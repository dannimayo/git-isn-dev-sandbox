<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>assign_addTempLeadtoCollection</name>
        <label>assign_addTempLeadtoCollection</label>
        <locationX>468</locationX>
        <locationY>190</locationY>
        <assignmentItems>
            <assignToReference>newRecords_ProjectResources</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>tempRecord_ProjectResource</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>assign_tempRecord_ProjectResource_Exec</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_currentRequestProject</name>
        <label>assign_currentRequestProject</label>
        <locationX>514</locationX>
        <locationY>54</locationY>
        <assignmentItems>
            <assignToReference>currentRequest.Project__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newProjectId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>updateRecord_currentRequest</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_ExecSponsortoCollection</name>
        <label>assign_ExecSponsortoCollection</label>
        <locationX>118</locationX>
        <locationY>224</locationY>
        <assignmentItems>
            <assignToReference>newRecords_ProjectResources</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>tempRecord_ProjectResource</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>createRecords_newProjectResources</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_tempRecord_ProjectResource_Exec</name>
        <label>assign_tempRecord_ProjectResource_Exec</label>
        <locationX>300</locationX>
        <locationY>218</locationY>
        <assignmentItems>
            <assignToReference>tempRecord_ProjectResource.Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentRequest.Executive_Sponsor__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>tempRecord_ProjectResource.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Executive Sponsor</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>tempRecord_ProjectResource.Project__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newProjectId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>assign_ExecSponsortoCollection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_tempRecord_ProjectResource_Lead</name>
        <label>assign_tempRecord_ProjectResource_Lead</label>
        <locationX>676</locationX>
        <locationY>217</locationY>
        <assignmentItems>
            <assignToReference>tempRecord_ProjectResource.Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentRequest.Requested_By__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>tempRecord_ProjectResource.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Project Lead (Requestor)</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>tempRecord_ProjectResource.Project__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newProjectId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>assign_addTempLeadtoCollection</targetReference>
        </connector>
    </assignments>
    <description>Create a new project when request is accepted by PMO team</description>
    <interviewLabel>Request - Create New Project {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Request - Create New Project</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>createRecord_newProject</name>
        <label>createRecord_newProject</label>
        <locationX>339</locationX>
        <locationY>54</locationY>
        <assignRecordIdToReference>newProjectId</assignRecordIdToReference>
        <connector>
            <targetReference>assign_currentRequestProject</targetReference>
        </connector>
        <inputAssignments>
            <field>Corporate_IT_Needed__c</field>
            <value>
                <elementReference>currentRequest.Corporate_IT_Needed__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description__c</field>
            <value>
                <elementReference>currentRequest.Description_and_Desired_Goals__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Desired_Completion_Date__c</field>
            <value>
                <elementReference>currentRequest.Desired_Completion_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Estimated_Project_Costs__c</field>
            <value>
                <elementReference>currentRequest.Estimated_Project_Costs__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Executive_Sponsor__c</field>
            <value>
                <elementReference>currentRequest.Executive_Sponsor__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Functionality_Impact__c</field>
            <value>
                <elementReference>currentRequest.Functionality_Impact__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Impacted_Teams__c</field>
            <value>
                <elementReference>currentRequest.Impacted_Teams__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Management_Initiative__c</field>
            <value>
                <elementReference>currentRequest.Management_Initiative__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>currentRequest.Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PMO_Team_Involvement__c</field>
            <value>
                <elementReference>currentRequest.PMO_Team_Involvement__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Process_Impact__c</field>
            <value>
                <elementReference>currentRequest.Process_Impact__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Project_Duration_Months__c</field>
            <value>
                <elementReference>currentRequest.Project_Duration_Estimate_Months__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Project_Lead_Requestor__c</field>
            <value>
                <elementReference>currentRequest.Requested_By__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Requesting_Team__c</field>
            <value>
                <elementReference>currentRequest.Requesting_Team__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Return_on_Investment__c</field>
            <value>
                <elementReference>currentRequest.Return_on_Investment__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Team_Impact__c</field>
            <value>
                <elementReference>currentRequest.Team_Impact__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Time_Considerations__c</field>
            <value>
                <elementReference>currentRequest.Time_Considerations__c</elementReference>
            </value>
        </inputAssignments>
        <object>Project__c</object>
    </recordCreates>
    <recordCreates>
        <name>createRecords_newProjectResources</name>
        <label>createRecords_newProjectResources</label>
        <locationX>130</locationX>
        <locationY>404</locationY>
        <inputReference>newRecords_ProjectResources</inputReference>
    </recordCreates>
    <recordLookups>
        <name>getRecord_currentRequest</name>
        <label>getRecord_currentRequest</label>
        <locationX>187</locationX>
        <locationY>51</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>createRecord_newProject</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>Request__c</object>
        <outputReference>currentRequest</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Requested_By__c</queriedFields>
        <queriedFields>Executive_Sponsor__c</queriedFields>
        <queriedFields>Management_Initiative__c</queriedFields>
        <queriedFields>Team_Impact__c</queriedFields>
        <queriedFields>Time_Considerations__c</queriedFields>
        <queriedFields>PMO_Team_Involvement__c</queriedFields>
        <queriedFields>Estimated_Project_Costs__c</queriedFields>
        <queriedFields>Return_on_Investment__c</queriedFields>
        <queriedFields>Process_Impact__c</queriedFields>
        <queriedFields>Functionality_Impact__c</queriedFields>
        <queriedFields>Corporate_IT_Needed__c</queriedFields>
        <queriedFields>Description_and_Desired_Goals__c</queriedFields>
        <queriedFields>OwnerId</queriedFields>
        <queriedFields>Desired_Completion_Date__c</queriedFields>
        <queriedFields>Requesting_Team__c</queriedFields>
        <queriedFields>Impacted_Teams__c</queriedFields>
        <queriedFields>Project__c</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>Request_Number__c</queriedFields>
        <queriedFields>Project_Duration_Estimate_Months__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <description>update request with new project id</description>
        <name>updateRecord_currentRequest</name>
        <label>updateRecord_currentRequest</label>
        <locationX>650</locationX>
        <locationY>59</locationY>
        <connector>
            <targetReference>assign_tempRecord_ProjectResource_Lead</targetReference>
        </connector>
        <inputReference>currentRequest</inputReference>
    </recordUpdates>
    <startElementReference>getRecord_currentRequest</startElementReference>
    <status>Active</status>
    <variables>
        <name>currentRequest</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Request__c</objectType>
    </variables>
    <variables>
        <name>newProjectId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>newRecords_ProjectResources</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Project_Resource__c</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>tempRecord_ProjectResource</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Project_Resource__c</objectType>
    </variables>
</Flow>
